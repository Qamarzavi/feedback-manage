-- Create the Database
CREATE DATABASE timetable_db;
USE timetable_db;

-- Teachers Table
CREATE TABLE teachers (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    dept VARCHAR(50) NOT NULL
);

-- Subjects Table
CREATE TABLE subjects (
    id INT AUTO_INCREMENT PRIMARY KEY,
    code VARCHAR(20) NOT NULL,
    name VARCHAR(100) NOT NULL,
    mne VARCHAR(10) NOT NULL,
    teacher_id INT,
    periods_as_per_syllabus INT NOT NULL,
    allotted_periods INT NOT NULL,
    FOREIGN KEY (teacher_id) REFERENCES teachers(id)
);

-- Timetable Table
CREATE TABLE timetable (
    id INT AUTO_INCREMENT PRIMARY KEY,
    day VARCHAR(10) NOT NULL,
    time_slot VARCHAR(20) NOT NULL,
    subject_id INT,
    FOREIGN KEY (subject_id) REFERENCES subjects(id)
);

-- Insert into Teachers
INSERT INTO teachers (name, dept) VALUES
('Dr. Smith', 'Mathematics'),
('Dr. Johnson', 'CS'),
('Dr. Gautam', 'IOT'),
('Prof. Sanjay', 'ADBMS'),
('Dr. Dawood', 'ML');

-- Insert into Subjects
INSERT INTO subjects (code, name, mne, teacher_id, periods_as_per_syllabus, allotted_periods) VALUES
('MATH201', 'Calculus', 'CAL', 1, 4, 4),
('CS101', 'Computer Science', 'CS', 2, 4, 4),
('IO301', 'Internet of Things', 'IOT', 3, 4, 4),
('CS103', 'ADBMS', 'DBMS', 4, 4, 4),
('ML401', 'Machine Learning', 'ML', 5, 4, 4);

-- Insert into Timetable with new time format
INSERT INTO timetable (day, time_slot, subject_id) VALUES
('MON', '8:00-9:00', 1),
('MON', '9:00-10:00', 2),
('MON', '10:00-11:00', 3),
('MON', '11:00-12:00', 4),
('MON', '12:00-1:00', 5),
('MON', '1:00-2:00', 1),
('MON', '2:00-3:00', 2),
('MON', '3:00-4:00', 3),
('MON', '4:00-5:00', 4),

('TUE', '8:00-9:00', 5),
('TUE', '9:00-10:00', 1),
('TUE', '10:00-11:00', 2),
('TUE', '11:00-12:00', 3),
('TUE', '12:00-1:00', 4),
('TUE', '1:00-2:00', 5),
('TUE', '2:00-3:00', 1),
('TUE', '3:00-4:00', 2),
('TUE', '4:00-5:00', 3),

('WED', '8:00-9:00', 4),
('WED', '9:00-10:00', 5),
('WED', '10:00-11:00', 1),
('WED', '11:00-12:00', 2),
('WED', '12:00-1:00', 3),
('WED', '1:00-2:00', 4),
('WED', '2:00-3:00', 5),
('WED', '3:00-4:00', 1),
('WED', '4:00-5:00', 2),

('THU', '8:00-9:00', 3),
('THU', '9:00-10:00', 4),
('THU', '10:00-11:00', 5),
('THU', '11:00-12:00', 1),
('THU', '12:00-1:00', 2),
('THU', '1:00-2:00', 3),
('THU', '2:00-3:00', 4),
('THU', '3:00-4:00', 5),
('THU', '4:00-5:00', 1),

('FRI', '8:00-9:00', 2),
('FRI', '9:00-10:00', 3),
('FRI', '10:00-11:00', 4),
('FRI', '11:00-12:00', 5),
('FRI', '12:00-1:00', 1),
('FRI', '1:00-2:00', 2),
('FRI', '2:00-3:00', 3),
('FRI', '3:00-4:00', 4),
('FRI', '4:00-5:00', 5);
